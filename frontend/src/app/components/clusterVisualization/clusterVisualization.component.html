<div class="matrix-container" #matrix>
  <!-- Notification component -->
  <app-notification
    [message]="aiResponse"
    *ngIf="aiResponse"
    [title]="aiTitle"
    (closeNotification)="closeNotification()"
  ></app-notification>


  <!-- Flex container for title and button with label -->
  <div class="header-container">
    <h1 class="title">{{ getTitle() }}</h1>
    <div class="ai-suggestion-container" *ngIf="selectedNodes.length > 0">
      <div class="ai-title">AI suggestion on connections</div>

      <!-- Conditionally show either the loading spinner or the button -->
      <div *ngIf="aiLoading" class="ai-loading-spinner"></div>
      
      <div 
        class="ai-button" 
        *ngIf="!aiLoading"
        (click)="handleButtonClick()" 
        (mouseover)="showTooltip($event)" 
        (mouseout)="hideTooltip()"
        [ngStyle]="{'visibility': selectedNodes.length > 0 ? 'visible' : 'hidden'}"
        [style.cursor]="'pointer'"
      >âœ§</div>
    </div>
  </div>

  <figure class="matrix-svg-container"></figure>
  <div id="tooltip" class="tooltip" style="display: none;"></div>
  <div *ngIf="isLoading" class="loading-container">
    <div class="loading-spinner"></div>
  </div>
</div>
